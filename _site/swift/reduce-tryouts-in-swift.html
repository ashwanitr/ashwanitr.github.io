<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Tryouts of reduce function in Swift</title>
    <meta name="description" content="Swift has a set of awesome high order functions like map, filter and reduce. Although reduce is relatively complex, it has immense flexibility and power. Red...">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://localhost:4000/swift/reduce-tryouts-in-swift.html">
    <link rel="alternate" type="application/rss+xml" title="Ashwani" href="http://localhost:4000/feed.xml">
  </head>

  <body>
	<div class="go-home">
	  <a href="http://localhost:4000"> <svg width="100%" height="100%" viewBox="0 0 503 503" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;fill:#f48024"><circle cx="251.115" cy="251.115" r="251.115" class="home"/><clipPath id="_clip1"><circle cx="251.115" cy="251.115" r="251.115"/></clipPath><g clip-path="url(#_clip1)"><path d="M339.941,225.331c0,-2.173 -1.002,-4.225 -2.715,-5.561c-12.744,-9.938 -66.661,-51.986 -82.5,-64.339c-2.575,-2.008 -6.192,-1.985 -8.742,0.054c-15.527,12.421 -67.959,54.362 -80.364,64.285c-1.673,1.339 -2.647,3.365 -2.647,5.507c0,16.884 0,92.029 0,115.535c0,1.871 0.743,3.664 2.065,4.987c1.323,1.322 3.116,2.065 4.987,2.065c11.803,0 35.425,0 47.23,0c1.871,0 3.665,-0.743 4.988,-2.066c1.322,-1.323 2.065,-3.117 2.065,-4.988c-0.007,-19.216 -0.025,-71.055 -0.025,-71.055l54.696,-0.225c0,0 0.11,52.056 0.151,71.297c0.008,3.889 3.163,7.037 7.052,7.037c11.695,0 35.002,0 46.707,0c1.87,0 3.664,-0.743 4.987,-2.065c1.322,-1.323 2.065,-3.116 2.065,-4.987c0,-23.481 0,-98.492 0,-115.481Z" style="fill:#fff;fill-opacity:0.941177;"/></g></svg> </a>
	</div>
    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Tryouts of reduce function in Swift</h1>
    <p class="post-meta"><time datetime="2015-10-23T00:00:00+05:30" itemprop="datePublished">Oct 23, 2015</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>Swift has a set of awesome high order functions like <code class="highlighter-rouge">map</code>, <code class="highlighter-rouge">filter</code> and <code class="highlighter-rouge">reduce</code>. Although reduce is relatively complex, it has immense <code class="highlighter-rouge">flexibility</code> and <code class="highlighter-rouge">power</code>. Reduce has flexibility to such an extent that it can do all possible array operations.</p>

<h3 id="array-methods-re-implemented-using-reduce">Array methods re implemented using reduce</h3>
<p>You can check out some of the array functionalities that I have re implemented using reduce</p>

<h4 id="arraycount">array.count</h4>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">totalElements</span> <span class="o">=</span> <span class="p">[</span><span class="s">"A"</span><span class="p">,</span> <span class="s">"B"</span><span class="p">,</span> <span class="s">"C"</span><span class="p">,</span> <span class="s">"D"</span><span class="p">,</span> <span class="s">"E"</span><span class="p">]</span><span class="o">.</span><span class="nf">reduce</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="mi">0</span> <span class="o">+</span> <span class="mi">1</span><span class="p">}</span>
<span class="c1">// Returns 5</span></code></pre></figure>

<h4 id="arrayinsertelementatindex">array.insertElement(atIndex)</h4>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">newElement</span> <span class="o">=</span> <span class="s">"NEW"</span><span class="p">;</span> <span class="k">let</span> <span class="nv">atIndex</span> <span class="o">=</span> <span class="mi">3</span>
<span class="k">let</span> <span class="nv">newList</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s">"A"</span><span class="p">,</span> <span class="s">"B"</span><span class="p">,</span> <span class="s">"C"</span><span class="p">,</span> <span class="s">"D"</span><span class="p">,</span> <span class="s">"E"</span><span class="p">]</span><span class="o">.</span><span class="nf">reduce</span><span class="p">([</span><span class="kt">String</span><span class="p">]())</span> <span class="p">{</span> <span class="p">(</span><span class="n">accum</span><span class="p">,</span> <span class="n">char</span><span class="p">)</span> <span class="k">in</span>
    <span class="k">if</span> <span class="n">accum</span><span class="o">.</span><span class="n">count</span> <span class="o">==</span> <span class="n">atIndex</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">accum</span> <span class="o">+</span> <span class="p">[</span><span class="n">newElement</span><span class="p">,</span> <span class="n">char</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">accum</span> <span class="o">+</span> <span class="p">[</span><span class="n">char</span><span class="p">]</span>
<span class="p">}</span>
<span class="c1">// Returns ["A", "B", "C", "NEW", "D", "E"]</span></code></pre></figure>

<h4 id="arraylast">array.last</h4>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">chars</span> <span class="o">=</span> <span class="p">[</span><span class="s">"A"</span><span class="p">,</span> <span class="s">"B"</span><span class="p">,</span> <span class="s">"C"</span><span class="p">,</span> <span class="s">"D"</span><span class="p">,</span> <span class="s">"E"</span><span class="p">]</span>
<span class="k">let</span> <span class="nv">lastElement</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">chars</span><span class="o">.</span><span class="nf">reduce</span><span class="p">(</span><span class="n">chars</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="p">{</span> <span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">char</span><span class="p">)</span> <span class="k">in</span>
    <span class="k">return</span> <span class="n">char</span>
<span class="p">}</span>
<span class="c1">// Returns "E"</span></code></pre></figure>

<h3 id="map-using-reduce">map using reduce</h3>
<p>If this wasnt impressive enough, check out how <code class="highlighter-rouge">map</code> can be implemented using reduce.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">stringedNums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="kt">String</span><span class="p">(</span> <span class="nv">$0</span><span class="p">)</span> <span class="p">}</span>

<span class="c1">// reduce implementation of above map</span>
<span class="k">let</span> <span class="nv">stringedNums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="nf">reduce</span><span class="p">([</span><span class="kt">String</span><span class="p">]())</span> <span class="p">{</span> <span class="p">(</span><span class="n">accum</span><span class="p">,</span> <span class="n">num</span><span class="p">)</span> <span class="k">in</span>
    <span class="k">return</span> <span class="n">accum</span> <span class="o">+</span> <span class="p">[</span><span class="kt">String</span><span class="p">(</span><span class="n">num</span><span class="p">)]</span>
<span class="p">}</span>
<span class="c1">// Returns ["1", "2", "3", "4"]</span></code></pre></figure>

<hr />

<h3 id="filter-using-reduce">filter using reduce</h3>
<p>Similarly <code class="highlighter-rouge">filter</code> implementation is</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="c1">// Filters odd numbers from array</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">filter</span> <span class="p">{</span>
    <span class="nv">$0</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
<span class="p">}</span>

<span class="c1">// reduce equivalent of above filter</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="nf">reduce</span><span class="p">([</span><span class="kt">Int</span><span class="p">]())</span> <span class="p">{</span> <span class="p">(</span><span class="n">accum</span><span class="p">,</span> <span class="n">num</span><span class="p">)</span> <span class="k">in</span>
    <span class="k">return</span> <span class="n">num</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">?</span> <span class="n">accum</span> <span class="o">+</span> <span class="p">[</span><span class="n">num</span><span class="p">]</span> <span class="p">:</span> <span class="n">accum</span>
<span class="p">}</span>
<span class="c1">// Returns [2, 4]</span></code></pre></figure>

<hr />

<h3 id="now-what-">Now what ?</h3>

<p>reduce can be used to implement native array methods. It can also be used as map and filter. But what was the point ?</p>

<p>Point was to show how powerful reduce function is. It happens that we unknowingly chain map and filter as requirement changes. This chaining becomes cumbersome. If you have very specific requirements you can always use reduce. You get the desired outcome in one array traversal.</p>

  </div>

  <div class="post-footer">
    <p><a href="/blog" >Back to Index</a></p>
  </div>
</article>

      </div>
    </div>
  </body>

</html>
