<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Equatable enums in Swift</title>
    <meta name="description" content="Equating enums in swift for simple cases like this one is pretty straight forward.">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://localhost:4000/swift/equatable-enums.html">
    <link rel="alternate" type="application/rss+xml" title="Ashwani" href="http://localhost:4000/feed.xml">
  </head>

  <body>
	<div class="go-home">
	  <a href="http://localhost:4000"> <svg width="100%" height="100%" viewBox="0 0 503 503" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;fill:#f48024"><circle cx="251.115" cy="251.115" r="251.115" class="home"/><clipPath id="_clip1"><circle cx="251.115" cy="251.115" r="251.115"/></clipPath><g clip-path="url(#_clip1)"><path d="M339.941,225.331c0,-2.173 -1.002,-4.225 -2.715,-5.561c-12.744,-9.938 -66.661,-51.986 -82.5,-64.339c-2.575,-2.008 -6.192,-1.985 -8.742,0.054c-15.527,12.421 -67.959,54.362 -80.364,64.285c-1.673,1.339 -2.647,3.365 -2.647,5.507c0,16.884 0,92.029 0,115.535c0,1.871 0.743,3.664 2.065,4.987c1.323,1.322 3.116,2.065 4.987,2.065c11.803,0 35.425,0 47.23,0c1.871,0 3.665,-0.743 4.988,-2.066c1.322,-1.323 2.065,-3.117 2.065,-4.988c-0.007,-19.216 -0.025,-71.055 -0.025,-71.055l54.696,-0.225c0,0 0.11,52.056 0.151,71.297c0.008,3.889 3.163,7.037 7.052,7.037c11.695,0 35.002,0 46.707,0c1.87,0 3.664,-0.743 4.987,-2.065c1.322,-1.323 2.065,-3.116 2.065,-4.987c0,-23.481 0,-98.492 0,-115.481Z" style="fill:#fff;fill-opacity:0.941177;"/></g></svg> </a>
	</div>
    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Equatable enums in Swift</h1>
    <p class="post-meta"><time datetime="2015-09-28T00:00:00+05:30" itemprop="datePublished">Sep 28, 2015</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>Equating enums in swift for simple cases like this one is pretty straight forward.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">enum</span> <span class="kt">Vehicle</span> <span class="p">{</span>
    <span class="k">case</span> <span class="kt">Car</span><span class="p">,</span> <span class="kt">Bike</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">v1</span> <span class="o">=</span> <span class="kt">Vehicle1</span><span class="o">.</span><span class="kt">Car</span>
<span class="k">let</span> <span class="nv">v2</span> <span class="o">=</span> <span class="kt">Vehicle1</span><span class="o">.</span><span class="kt">Bike</span>

<span class="n">v1</span> <span class="o">==</span> <span class="n">v2</span> <span class="c1">// False</span></code></pre></figure>

<p>But things get complicated, when the enum matures to something like this. Here you cannot use <code class="highlighter-rouge">==</code> operator directly.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">enum</span> <span class="kt">Vehicle</span> <span class="p">{</span>
    <span class="kd">enum</span> <span class="kt">CarType</span> <span class="p">{</span>
        <span class="k">case</span> <span class="kt">Sedan</span><span class="p">,</span> <span class="kt">SUV</span><span class="p">,</span> <span class="kt">MUV</span><span class="p">,</span> <span class="kt">HatchBack</span>
    <span class="p">}</span>
    <span class="kd">enum</span> <span class="kt">BikeType</span> <span class="p">{</span>
        <span class="k">case</span> <span class="kt">Sports</span><span class="p">,</span> <span class="kt">Cruiser</span><span class="p">,</span> <span class="kt">Dirt</span>
    <span class="p">}</span>

    <span class="k">case</span> <span class="kt">Car</span><span class="p">(</span><span class="kt">CarType</span><span class="p">)</span>
    <span class="k">case</span> <span class="kt">Bike</span><span class="p">(</span><span class="kt">BikeType</span><span class="p">)</span>
    <span class="k">case</span> <span class="kt">Other</span><span class="p">(</span><span class="kt">String</span><span class="p">)</span>
<span class="p">}</span></code></pre></figure>

<p>So to equate enum like this we have two options</p>

<ul>
  <li>Use the complicated nested switch casing</li>
  <li>or Implement the  <a href="https://developer.apple.com/library/watchos/documentation/Swift/Reference/Swift_Equatable_Protocol/index.html#//apple_ref/swift/intf/s:PSs9Equatable">Equatable</a> protocol.</li>
</ul>

<p>But using the nested switch casing has clear drawbacks. Hence we implement the Equatable protocol as we usually do for Classes.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="c1">// Conform to Equatable protocol</span>
<span class="kd">extension</span> <span class="kt">Vehicle</span><span class="p">:</span> <span class="kt">Equatable</span> <span class="p">{}</span>

<span class="kd">func</span> <span class="o">==</span><span class="p">(</span><span class="nv">lhs</span><span class="p">:</span> <span class="kt">Vehicle</span><span class="p">,</span> <span class="nv">rhs</span><span class="p">:</span> <span class="kt">Vehicle</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="p">(</span><span class="n">lhs</span><span class="p">,</span> <span class="n">rhs</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="p">(</span><span class="o">.</span><span class="kt">Car</span><span class="p">(</span><span class="k">let</span> <span class="nv">a</span><span class="p">),</span> <span class="o">.</span><span class="kt">Car</span><span class="p">(</span><span class="k">let</span> <span class="nv">b</span><span class="p">)):</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">==</span> <span class="n">b</span>
    <span class="k">case</span> <span class="p">(</span><span class="o">.</span><span class="kt">Bike</span><span class="p">(</span><span class="k">let</span> <span class="nv">a</span><span class="p">),</span> <span class="o">.</span><span class="kt">Bike</span><span class="p">(</span><span class="k">let</span> <span class="nv">b</span><span class="p">)):</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">==</span> <span class="n">b</span>
    <span class="k">case</span> <span class="k">let</span> <span class="p">(</span><span class="err">.</span><span class="nv">Other</span><span class="p">(</span><span class="nv">a</span><span class="p">),</span> <span class="err">.</span><span class="nv">Other</span><span class="p">(</span><span class="nv">b</span><span class="p">)):</span> <span class="c1">// One let can also be used instead of multiple let</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">==</span> <span class="n">b</span>
    <span class="k">default</span><span class="p">:</span> <span class="k">return</span> <span class="kc">false</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>After defining the <code class="highlighter-rouge">==</code> function we can <strong>equate</strong> our enums.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kt">Vehicle</span><span class="o">.</span><span class="kt">Car</span><span class="p">(</span><span class="o">.</span><span class="kt">Sedan</span><span class="p">)</span>      <span class="o">==</span> <span class="kt">Vehicle</span><span class="o">.</span><span class="kt">Car</span><span class="p">(</span><span class="o">.</span><span class="kt">Sedan</span><span class="p">)</span>      <span class="c1">// true</span>
<span class="kt">Vehicle</span><span class="o">.</span><span class="kt">Car</span><span class="p">(</span><span class="o">.</span><span class="kt">Sedan</span><span class="p">)</span>      <span class="o">==</span> <span class="kt">Vehicle</span><span class="o">.</span><span class="kt">Car</span><span class="p">(</span><span class="o">.</span><span class="kt">MUV</span><span class="p">)</span>        <span class="c1">// false</span>
<span class="kt">Vehicle</span><span class="o">.</span><span class="kt">Bike</span><span class="p">(</span><span class="o">.</span><span class="kt">Sports</span><span class="p">)</span>    <span class="o">==</span> <span class="kt">Vehicle</span><span class="o">.</span><span class="kt">Car</span><span class="p">(</span><span class="o">.</span><span class="kt">Sedan</span><span class="p">)</span>      <span class="c1">// false</span>
<span class="kt">Vehicle</span><span class="o">.</span><span class="kt">Bike</span><span class="p">(</span><span class="o">.</span><span class="kt">Sports</span><span class="p">)</span>    <span class="o">==</span> <span class="kt">Vehicle</span><span class="o">.</span><span class="kt">Bike</span><span class="p">(</span><span class="o">.</span><span class="kt">Sports</span><span class="p">)</span>    <span class="c1">// true</span>
<span class="kt">Vehicle</span><span class="o">.</span><span class="kt">Other</span><span class="p">(</span><span class="s">"tractor"</span><span class="p">)</span> <span class="o">==</span> <span class="kt">Vehicle</span><span class="o">.</span><span class="kt">Car</span><span class="p">(</span><span class="o">.</span><span class="kt">HatchBack</span><span class="p">)</span>  <span class="c1">// false</span>
<span class="kt">Vehicle</span><span class="o">.</span><span class="kt">Other</span><span class="p">(</span><span class="s">"Bus"</span><span class="p">)</span>     <span class="o">==</span> <span class="kt">Vehicle</span><span class="o">.</span><span class="kt">Car</span><span class="p">(</span><span class="o">.</span><span class="kt">HatchBack</span><span class="p">)</span>  <span class="c1">// false</span>
<span class="kt">Vehicle</span><span class="o">.</span><span class="kt">Other</span><span class="p">(</span><span class="s">"tractor"</span><span class="p">)</span> <span class="o">==</span> <span class="kt">Vehicle</span><span class="o">.</span><span class="kt">Other</span><span class="p">(</span><span class="s">"tractor"</span><span class="p">)</span> <span class="c1">// true</span>
<span class="kt">Vehicle</span><span class="o">.</span><span class="kt">Other</span><span class="p">(</span><span class="s">"tractor"</span><span class="p">)</span> <span class="o">==</span> <span class="kt">Vehicle</span><span class="o">.</span><span class="kt">Other</span><span class="p">(</span><span class="s">"crane"</span><span class="p">)</span>   <span class="c1">// false</span></code></pre></figure>

<p>Our enum comparison has now clarity and brevity. And most important it’s readable</p>

<p>For more information on comparison protocol you refer to <a href="http://nshipster.com/swift-comparison-protocols/">this</a> post written by <a href="http://nshipster.com/authors/mattt-thompson/">Matt Thompson</a> on NSHipster.</p>


  </div>

  <div class="post-footer">
    <p><a href="/blog" >Back to Index</a></p>
  </div>
</article>

      </div>
    </div>
  </body>

</html>
