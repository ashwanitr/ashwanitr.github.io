<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Creating NSView from XIB file</title>
    <meta name="description" content="Usage  Create a XIB file with a single view  Subclass NSView and make it conform to NibLoadable.Conformance makes the default implementation available to you...">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://localhost:4000/swift/Loading-NSView-From-XIB.html">
    <link rel="alternate" type="application/rss+xml" title="Ashwani" href="http://localhost:4000/feed.xml">
  </head>

  <body>
	<div class="go-home">
	  <a href="http://localhost:4000"> <svg width="100%" height="100%" viewBox="0 0 503 503" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;fill:#f48024"><circle cx="251.115" cy="251.115" r="251.115" class="home"/><clipPath id="_clip1"><circle cx="251.115" cy="251.115" r="251.115"/></clipPath><g clip-path="url(#_clip1)"><path d="M339.941,225.331c0,-2.173 -1.002,-4.225 -2.715,-5.561c-12.744,-9.938 -66.661,-51.986 -82.5,-64.339c-2.575,-2.008 -6.192,-1.985 -8.742,0.054c-15.527,12.421 -67.959,54.362 -80.364,64.285c-1.673,1.339 -2.647,3.365 -2.647,5.507c0,16.884 0,92.029 0,115.535c0,1.871 0.743,3.664 2.065,4.987c1.323,1.322 3.116,2.065 4.987,2.065c11.803,0 35.425,0 47.23,0c1.871,0 3.665,-0.743 4.988,-2.066c1.322,-1.323 2.065,-3.117 2.065,-4.988c-0.007,-19.216 -0.025,-71.055 -0.025,-71.055l54.696,-0.225c0,0 0.11,52.056 0.151,71.297c0.008,3.889 3.163,7.037 7.052,7.037c11.695,0 35.002,0 46.707,0c1.87,0 3.664,-0.743 4.987,-2.065c1.322,-1.323 2.065,-3.116 2.065,-4.987c0,-23.481 0,-98.492 0,-115.481Z" style="fill:#fff;fill-opacity:0.941177;"/></g></svg> </a>
	</div>
    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Creating NSView from XIB file</h1>
    <p class="post-meta"><time datetime="2018-06-03T00:00:00+05:30" itemprop="datePublished">Jun 3, 2018</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <h3 id="usage">Usage</h3>
<ul>
  <li>Create a XIB file with a single view</li>
  <li>Subclass NSView and make it conform to NibLoadable.
Conformance makes the default implementation available to you.</li>
  <li>Make sure the XIB file name and your View name are same</li>
</ul>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="c1">// For views that can be loaded from nib file</span>
<span class="kd">protocol</span> <span class="kt">NibLoadable</span> <span class="p">{</span>
    <span class="c1">// Name of the nib file</span>
    <span class="kd">static</span> <span class="k">var</span> <span class="nv">nibName</span><span class="p">:</span> <span class="kt">String</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span>
    <span class="kd">static</span> <span class="kd">func</span> <span class="nf">createFromNib</span><span class="p">(</span><span class="k">in</span> <span class="nv">bundle</span><span class="p">:</span> <span class="kt">Bundle</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">NibLoadable</span> <span class="k">where</span> <span class="k">Self</span><span class="p">:</span> <span class="kt">NSView</span> <span class="p">{</span>

    <span class="c1">// Default nib name must be same as class name</span>
    <span class="kd">static</span> <span class="k">var</span> <span class="nv">nibName</span><span class="p">:</span> <span class="kt">String</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kt">String</span><span class="p">(</span><span class="nv">describing</span><span class="p">:</span> <span class="k">Self</span><span class="o">.</span><span class="k">self</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">static</span> <span class="kd">func</span> <span class="nf">createFromNib</span><span class="p">(</span><span class="k">in</span> <span class="nv">bundle</span><span class="p">:</span> <span class="kt">Bundle</span> <span class="o">=</span> <span class="kt">Bundle</span><span class="o">.</span><span class="n">main</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span> <span class="p">{</span>
        <span class="k">var</span> <span class="nv">topLevelArray</span><span class="p">:</span> <span class="kt">NSArray</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
        <span class="n">bundle</span><span class="o">.</span><span class="nf">loadNibNamed</span><span class="p">(</span><span class="kt">NSNib</span><span class="o">.</span><span class="kt">Name</span><span class="p">(</span><span class="n">nibName</span><span class="p">),</span> <span class="nv">owner</span><span class="p">:</span> <span class="k">self</span><span class="p">,</span> <span class="nv">topLevelObjects</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">topLevelArray</span><span class="p">)</span>
        <span class="k">let</span> <span class="nv">views</span> <span class="o">=</span> <span class="kt">Array</span><span class="o">&lt;</span><span class="kt">Any</span><span class="o">&gt;</span><span class="p">(</span><span class="n">topLevelArray</span><span class="o">!</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span> <span class="p">{</span> <span class="nv">$0</span> <span class="k">is</span> <span class="k">Self</span> <span class="p">}</span>
        <span class="k">return</span> <span class="n">views</span><span class="o">.</span><span class="n">last</span> <span class="k">as!</span> <span class="k">Self</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<h3 id="benefits">Benefits</h3>
<ul>
  <li>Custom views can be quickly made in a XIB file.</li>
  <li>Less chances of errors</li>
</ul>


  </div>

  <div class="post-footer">
    <p><a href="/blog" >Back to Index</a></p>
  </div>
</article>

      </div>
    </div>
  </body>

</html>
